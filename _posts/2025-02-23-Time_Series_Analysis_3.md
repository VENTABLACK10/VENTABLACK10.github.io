---
layout: single
title:  "Time Series Analysis (3): ARMA, ARIMA, SARIMA"
---

## 5. Modeling a ARMA Process
### ５.1 Define a ARMA Process
- AutoRegressive Moving Average(ARMA) Model
  - ARMA는 ACF 및 PACF 도식에서 차수를 추정할 수 없을 때 사용하는 시계열 기법
  - 즉, ACF, PACF 도식 모두 천천히 감소하는 패턴 OR 사인 곡선 패턴인 경우에 해당
  - ACF, PACF 대신 일반적인 모델링 절차 정의 필요 -> AIC을 이용해 p,q 조합 선택 -> Q-Q plot, 잔차 분석 진행
  - ARMA는 AR과 MA의 조합이다. 즉 AR과 동일하게 현재값은 이전값과 상수에 선형적으로 의존하고 MA와 동일하게 수열의 평균, 현재 오차, 과거 오차에 선형적으로 의존한다.
  - ARMA(p,q)로 표시하며 p는 AR의 차수, q는 MA의 차수를 의미한다.
  - 선형방정식 수식: $y_t = C + \phi_1 y_{t-1} + \phi_2 y_{t-2} + \dots + \phi_p y_{t-p} + \mu + \epsilon_t + \theta_1 \epsilon_{t-1} + \theta_2 \epsilon_{t-2} + \dots + \theta_q \epsilon_{t-q}$
  - $C$: 상수, $y_{t-p}$: 수열의 과거값, $\mu$: 수열의 평균, $\epsilon_{t-q}$: 과거 오차항, $\epsilon_t$: 현재 오차항
  - 차수 p는 ARMA 수식에 포함할 과거값의 개수를 결정, 프로세스 중 AR 부분에만 영향을 미친다.
  - 차수 q는 ARMA 수식에 포함할 과거 오차항의 개수를 결정, 프로세스 중 MA 부분에만 영향을 미친다.
  
- ARMA (p,q) 식별 단계
  1. 데이터 수집
  2. 정상성 test
    - 정상성 X -> 변환 적용 ex) 차분
    - 정상성 O -> 다음 단계
  3. ACF 도식화 -> 자기상관계수 식별
    - 지연 0 이후 유의한 계수를 찾을 수 없으면 -> 확률 보행
    - 지연 q 이후 갑자기 계수들이 유의하지 않는다면 -> MA(q) process
    - 자기상관계수 존재 시 ->  PACF 도식화
  4. PACF 도식화 -> 편자기상관계수 식별
    - 지연 P 이후 갑자기 계수들이 유의하지 않다면 -> AR(p) Process
    - 편자기상관계수 존재 시 -> ARMA Process 가능성
  5. p,q 조합 만들기 및 모든 ARMA(p,q) 조합 피팅
  6. AIC가 가장 낮은 모델 선택
    * AIC: Akaike information criterion, 모델의 품질을 다른 모델들과 비교하여 상대적으로 정량화, 모델에 의해 손실되는 정보의 양을 상대적으로 정량화
    * 손실되는 정보가 적을수록 AIC 값은 낮고 모델이 더 우수하다고 판정
    * AIC 기준으로 모델을 선택하면 모델의 복ㅈ바성과 데이터에 대한 적합도 사이에서 균형 유지 가능
    * AIC 수식: $\mathrm{AIC} = 2k - 2\ln \hat{\mathcal{L}}$
    * $k$: 매개변수 개수, $\hat{\mathcal{L}}$: 최대우도함수값
    * 차수가 증가하면 매개변수 k도 증가하므로 AIC가 증가한다. 즉 복잡한 모델은 AIC 기준으로 좋지 않다.
    * 최대우도함수는 Goodness of Fit(적합도)을 측정한다. 관측된 데이터 집합에서 모델의 여러가지 매개변수가 관측된 데이터를 생성할 가능성을 추정한다. 따라서 모델이 데이터에 잘 맞는다면 최대우도함수의 최대값은 클 것이다. 즉, $\hat{\mathcal{L}}$ 값이 클수록 AIC는 낮아진다.
    * Overfitting 모델은 적합도($\hat{\mathcal{L}}$)가 높기 때문에 AIC는 감소할 수 있지만, 복잡도(k)가 높아 AIC에 좋지 않을 수도 있다.
    * Underfitting 모델은 적합도($\hat{\mathcal{L}}$)가 낮아 AIC 값은 크지만, 복잡도(k)가 낮아 AIC가 크지 않을 수 있다. 
  7. 잔차 분석 : 모델의 실제값과 예측값의 차이인 모델의 잔차를 분석
    * 이상적인 모델은 잔차가 무작위성을 보인다. = 잔차가 상관관계 없이 독립적 분포
    - Q-Q 도식이 직선을 만족해야 한다.
    - 잔차 간 상관관계가 없어야 한다. -> Ljung-Box test
    - 위의 두 가지 사항을 만족한다면 예측 진행 / 반대로 만족하지 않는다면, 다른 p와 q 조합 시도

### 5.2 ARMA Process example
- Hourly bandwidth usage of Data center Data
  
#### 5.2.1 정상성 test
![photo 191](/assets/img/blog/img191.png)                               
- 데이터 시각화 결과, 추세가 존재하므로 정상성을 만족하지 않을 가능성이 높다. 또한, 주기적 패턴이 보이지 않으므로 계절적 효과를 배제할 수 있다.
- ADF test는 statsmodels 라이브러리의 adfuller를 활용한다.   
- ADF test 결과 ->  ADF Statistic: -0.871, p-value: 0.797
- ADF 통계량의 절댓값 크기가 작고 p-value가 높기 때문에 귀무가설 채택으로 현재 해당 데이터는 비정상성

#### 5.2.2 변환을 통한 정상성 만족시키기
- 1차 차분을 적용하여 추세 구성요소를 제거하여 안정화시킨다.                                  
![photo 192](/assets/img/blog/img192.png)                     
- 1차 차분 적용 이후, 시각화 결과 추세 구성요소가 안정화되어 정상성을 만족함을 알 수 있다.
- 1차 차분 적용 이후 ADF test 결과 -> ADF Statistic: -20.695, p-value: 0.000
- ADF 통계량의 절댓값 크기가 크고 p-value가 낮기 때문에, 귀무가설을 기각하여 정상성을 만족한다

#### 5.2.3 자기상관함수(ACF) 도식화
- statsmodels 라이브러리의 plot_acf를 활용한다.                             
![photo 193](/assets/img/blog/img193.png)                            
- 유의한 자기상관계수가 모두 존재하고, 천천히 감소함으로 ARMA Process 가능성 존재

#### 5.2.4 편자기상관함수(PACF) 도식화
- statsmodels 라이브러리의 plot_pacf를 활용한다.        
![photo 194](/assets/img/blog/img194.png)                   
- 유의한 계수와 유의하지 않은 계수를 명확하게 구분할 수 없는 사인 곡선의 패턴을 보이므로 ARMA Process 가능성 존재
- ACF, PACF 도식 모두 천천히 감소하는 패턴 OR 사인 곡선 패턴이으로 ARMA Process 진행

#### 5.2.5 p,q 조합 리스트 생성 및 ARMA(p,q) 조합 피팅 -> AIC가 가장 낮은 모델 선택
- itertools의 product 함수를 사용하여 (p,q)에 가능한 모든 조합 목록을 생성한다.
- ARMA(p,q) 모델들을 피팅하기 위한 함수를 정의한 뒤, 각 조합에 대한 모델을 데이터에 피팅한다.
- 이후, AIC 계산을 하고 이를 DataFrame으로 생성한다.(오름차순 정렬)            
![photo 195](/assets/img/blog/img195.png)                  
- AIC가 가장 낮은 모델이 ARMA(3,2)임을 알 수 있다. 하지만, 모델의 복잡도를 낮추기 위해 ARMA(2,2) 사용하는 것이 좋다. (상위 3개 조합 AIC 성능이 유사하므로)
- AIC는 모델의 상대적인 품질을 측정하는 척도이므로 절대적인 측정을 위해 잔차 분석을 추가로 진행한다.

#### 5.2.6 잔차 분석
- 잔차: 모델에서 나온 값과 시뮬레이션된 프로세스의 실젯값 사이의 차이
  - 완벽한 모델의 잔차는 백색소음과 같다. 즉 모델이 모든 예측 정보를 포착하여 모델링할 수 없는 무작위한 변동만 남았음을 의미 -> 잔차들이 상관관계 없이 정규분포를 가진다면, 좋은 예측 결과를 보일 모델이다.
- 질적 분석: Q-Q 도식 -> 모델의 잔차가 정규분포라는 가설을 검증하기 위한 시각적 도구
  - (정규)분포의 사분위수를 x축에 두고 잔차의 사분위수를 y축에 그려 산점도를 생성한다.
  - 두 분포가 유사하여 잔차의 분포가 정규분포에 가깝다면 Q-Q 도식은 $y=x$와 거의 동일한 직선을 나타낸다. = good fitting         
  ![photo 196](/assets/img/blog/img196.png)                  
  - 잔차가 정규분포에 가까운 Q-Q 도식은 위와 같은 $y=x$ 직선을 생성한다.
  - 만약, $y=x$ 직선을 벗어난 곡선이 생성된다면 이는 모델이 데이터에 적합하지 않다는 의미다. -> 이때는 다른 범위의 p,q 조합을 다시 시도한다.
- 양적 분석(Ljung-Box test): 잔차 간 상관관계 유무 확인
  - Ljung-Box test: 데이터 집단의 자기상관관계가 0과 유의하게 다른지 테스트하는 통계 검사
    - statsmodels의 acorr_ljungbox 함수 사용
  - 귀무가설 $H_0$: 데이터가 독립적으로 분포한다 = 자기상관관계가 없다.
  - p-value가 0.05 이상이면 귀무가설을 채택하므로 해당 모델을 사용할 수 있다.
  - 반대로, p-value가 0.05 미만이면 귀무가설을 기각하므로 해당 모델을 사용할 수 없다.                            
    => Ljung-Box test p-value 모두 0.05 초과 -> 귀무가설 채택 -> Good Model
- statsmodels을 사용하면 잔차에 대한 정성적 분석을 더 쉽게 할 수 있다.(plot_diagnostics)                 
![photo 197](/assets/img/blog/img197.png)                     
- 좌상단: 전체 데이터 집합의 잔차 -> 현재 추세 x, 평균 안정적 -> 정상성 만족
- 우상단: 잔차의 히스토그램 -> 잔차가 정규분포를 나타내므로 백색소음에 가까움을 의미
- 좌하단: 잔차의 Q-Q 도식 -> 잔차가 정규분포를 나타내므로 백색소음에 가까움을 의미
- 우상단: 잔차의 ACF 도식 -> 지연 0에서만 유의한 피크 존재, 그 외에는 유의한 계수 없음                  
=> 최종적으로 잔차가 백색소음과 유사함.

#### 5.2.7 ARMA(2,2)을 사용한 예측
- ARMA(2,2)는 MA(2)를 포함하므로 window를 2로 설정한다.                 
![photo 198](/assets/img/blog/img198.png)
![photo 199](/assets/img/blog/img199.png)                      
- MSE 결과 1.77로 평균 예측 모델, 이전값 기반 예측 모델보다 성능이 좋게 나왔음을 알 수 있다.

#### 5.2.8 최종 결과 해석 
- 위에서 차분된 데이터 집합으로 예측을 수행했기 때문에 역변환을 통해 원래 규모로 되돌려야 한다.
- 역변환을 통해 원래 규모의 예측값을 얻을 수 있다.                             
![photo 200](/assets/img/blog/img200.png)                                 
- 예측 결과 실제값과 거의 일치하며 성능이 매우 우수함을 알 수 있다.
- 역변환 이후 MAE 결과 14로 14Mbps 정도 높거나 낮음을 의미한다.            

## 6. Modeling a ARIMA Process
### 6.1 Define a ARIMA Process
- ARIMA(자기회귀누적이동평균): AR, I(적분), MA의 조합
  - ARIMA Process는 현재값이 AR(p) 부분에서 나오는 과거값과 MA(q) 부분에서 나오는 과거 오차에 따라 달라진다. 또한, $y_t$로 표시되는 원본 수열을 사용하는 대신 $y'_t$로 표시되는 차분된 수열을 사용한다.
  - $y'_t$는 한 번 이상 차분된 수열을 의미한다.
  - 수식: $ y'_t = C + \phi_1 y'_{t-1} + \dots + \phi_p y'_{t-p} + \theta_1 \epsilon'_{t-1} + \dots + \theta_q \epsilon'_{t-q} + \epsilon'_t $
  - 차수 p는 모델에 포함할 시계열 중 지연된 값의 개수를 결정
  - 차수 q는 모델에 포함하는 지연된 오차 항의 개수를 결정
  - 차수 d는 적분 차수로 시계열이 정상적으로 되기 위한 최소한의 차분 횟수
  * 적분된 수열: 차분을 적용하여 정상적으로 만들 수 있는 시계열
  * 비정상 시계열의 경우, ARIMA(p,d,q) 모델을 사용하여 예측 수행

- ARIMA (p,d,q) 식별 단계: ARMA에서 차분 횟수(d) 설정 단계 추가
  1. 데이터 수집
  2. 정상성 test
    - 정상성 X -> 변환 적용 ex) 차분
    - 정상성 O -> 다음 단계
  3. 정상성 만족하는 차분 횟수(d) 설정
  4. p,q 조합 만들기 및 모든 ARIMA(p,q) 조합 피팅
  5. AIC가 가장 낮은 모델 선택
  6. 잔차 분석 : 모델의 실제값과 예측값의 차이인 모델의 잔차를 분석
    - Q-Q 도식이 직선을 만족해야 한다.
    - 잔차 간 상관관계가 없어야 한다. -> Ljung-Box test
    - 위의 두 가지 사항을 만족한다면 예측 진행 / 반대로 만족하지 않는다면, 다른 p와 q 조합 시도

### 6.1 ARIMA Process example
- Earnings per share of JNJ Data

#### 6.2.1 정상성 test
![photo 201](/assets/img/blog/img201.png)                                    
- 데이터 시각화 결과, 추세가 존재하므로 정상성을 만족하지 않을 가능성이 높다.
- ADF test는 statsmodels 라이브러리의 adfuller를 활용한다.   
- ADF test 결과 ->  ADF Statistic: 2.742, p-value: 1.000
- ADF 통계량의 절댓값 크기가 작고 p-value가 높기 때문에 귀무가설 채택으로 현재 해당 데이터는 비정상성

#### 6.2.2 변환을 통한 정상성 만족시키기 및 차분 횟수 설정
- 1차 차분을 적용하여 추세 구성요소를 제거하여 안정화시킨다.                                                
![photo 202](/assets/img/blog/img202.png)                         
- 1차 차분 적용 이후 ADF test 결과 -> ADF Statistic: -0.407, p-value: 0.909
- 1차 차분 적용 이후, 수열이 정상성을 만족하지 않으므로 2차 차분을 진행한다.
- 2차 차분 적용 이후 ADF test 결과 -> ADF Statistic: -3.585, p-value: 0.006
- 2차 차분 이후, ADF 통계량의 절댓값 크기가 크고 p-value가 낮기 때문에, 귀무가설을 기각하여 정상성을 만족한다
- 2번 차분을 했으므로 적분 차수를 d=2로 설정한다.

#### 6.2.3 p,q 조합 리스트 생성 및 ARIMA(p,q) 조합 피팅 -> AIC가 가장 낮은 모델 선택
- itertools의 product 함수를 사용하여 (p,q)에 가능한 모든 조합 목록을 생성한다.
- ARIMA(p,q) 모델들을 피팅하기 위한 함수를 정의한 뒤, 각 조합에 대한 모델을 데이터에 피팅한다. (ARMA 모델을 피팅하기 위한 함수에 적분 차수 d를 함수에 입력값으로 추가)
- 함수 정의 과정에서 매개변수 d의 범위는 지정하지 않는다. -> d를 변경하면 AIC 계산에 사용되는 함수가 변경되므로 일정해야 한다.
- 이후, AIC 계산을 하고 이를 DataFrame으로 생성한다.(오름차순 정렬)                         
![photo 203](/assets/img/blog/img203.png)                               
- AIC가 가장 낮은 모델 ARMA(3,3) 선택
- AIC는 모델의 상대적인 품질을 측정하는 척도이므로 절대적인 측정을 위해 잔차 분석을 추가로 진행한다.

#### 6.2.4 잔차 분석
![photo 204](/assets/img/blog/img204.png)                
- 질적 분석: 잔차, 잔차 분포, Q-Q Plot, ACF
  - 좌상단: 잔차의 추세는 없지만, 분산이 일정하지 않다. -> 백색소음과 동일하다고 할 수 없다.
  - 우상단: 잔차의 분포가 정규분포에 매우 가깝다.
  - 좌하단: Q-Q 도식으로 잔차의 분포가 정규분포에 가깝다.
  - 우하단: ACF 도식으로 자기상관계수가 지연 0 이후에 유의한 계수가 나타나지 않는다.                        
  => 정성적 관점으로 보았을 때, 현재 잔차가 백색소음에 가까움을 알 수 있다.
- 양적 분석: Ljung-Box test
  - 모델 잔차의 첫 10개 지연에 대한 Ljung-Box test를 진행
  - 실행하면 p-value가 모두 0.05보다 크다는 것을 알 수 있다. -> 귀무가설 채택 -> 잔차 상관관계 X                         
=> ARIMA(3,2,3) 예측 준비 완료

#### 6.2.5 ARIMA(3,2,3)을 사용한 예측 및 결과 해석         
![photo 205](/assets/img/blog/img205.png)
![photo 206](/assets/img/blog/img206.png)                                  
- MAPE(평균절대백분율오차) 결과 1.73으로 단순 계절성 모델보다 성능이 좋게 나왔음을 알 수 있다.
- 즉, 예측값이 실제값에서 평균적으로 1.73% 정도 차이를 보인다.

## 7. Modeling a SARIMA Process
### 7.1 Define a SARIMA Process
- SARIMA(계절적 자기회귀누적이동평균): ARIMA 모델에서 주기적 패턴을 추가로 고려한 모델
  - 표기: $SARIMA(p,d,q)(P,D,Q)_m$
  - $SARIMA(p,d,q)(0,0,0)_m$은 $ARIMA(p,d,q)$와 동일
  - 매개변수 (p,d,q)는 ARIMA의 (p,d,q)와 동일
  - 매개변수 P는 계절적 AR(P) 프로세스의 차수
  - 매개변수 D는 계절적 적분 차수
  - 매개변수 Q는 계절적 MA(Q) 프로세스의 차수
  - 매개변수 m은 빈도(계절적 주기당 관측 횟수)를 의미
    - 매년, 분기, 월, 주 단위로 기록된 데이터는 주기의 길이를 1년으로 간주한다.
      1. 매년 관찰 데이터 -> m=1
      2. 분기별 관찰 데이터 -> m=4
      3. 월별 기록 데이터 -> m=12
      4. 주간 기록 데이터 -> m=52
    - 일별, 일 하위 시간 단계로 기록되는 데이터 빈도 m
      1. 매일 기록 데이터 -> 주: m=7 / 년: m=365
      2. 시간별 기록 데이터 -> 일: m=24 / 주: m=168 / 년: m=8766
      3. 분당 기록 데이터 -> 시간: 60 / 일: m=1440 / 주: m=10080 / 년: m=525960
      4. 초당 기록 데이터 -> 분: 60 / 시간: 3600 / 일: m=86400 / 주: m=604800 / 년: m=31557600

#### 시계열에서 계절적 패턴 식별하기 => 시계열 분해
  - 시계열 분해 방법: statsmodels 라이브러리의 STL 함수를 사용해 분해 및 시각화 가능
    1. 추세 구성요소: 시계열의 장기적 변화, 시간이 지남에 따라 증가 or 감소하는 시계열 관련
    2. 계절적 구성요소: 시계열의 계절적 패턴, 일정 기간 동안 발생하는 반복적인 변동
    3. 잔차 or 노이즈: 추세 or 계절 구성요소로 설명할 수 없는 불규칙성            
  ![photo 207](/assets/img/blog/img207.png)             
  - 첫 번째 도식은 관찰된 데이터를 보여준다.
  - 두 번째 도식은 추세로 시간이 지남에 따라 증가함을 보여준다.
  - 세 번째 도식은 계절적 구성요소로 시간이 지남에 따라 반복되는 패턴을 확인할 수 있다.
  - 네 번째 도식은 추세 또는 계절적 요소로 설명할 수 없는 데이터 변동인 잔차를 보여준다.
  - 만약, 계절적 구성요소에 계절적 패턴이 없다면 도식은 수평선에 가까울 것이다.
  - 계절적 구성요소는 관측 데이터에서 최고점과 최저점을 생성하므로 그 값이 양수 or 음수이다.

#### $SARIMA(p,d,q)(P,D,Q)_m$ 식별 단계
  1. 데이터 수집
  2. 정상성 test
    - 정상성 X -> 변환 적용 ex) 차분
    - 정상성 O -> 다음 단계
  3. 차분 횟수(d) 설정
  4. 계절적 차분을 통한 차수 횟수(D) 설정
  5. p,q,P,Q 조합 만들기 및 모든 $SARIMA(p,d,q)(P,D,Q)_m$ 조합 피팅
  6. AIC가 가장 낮은 모델 선택
  7. 잔차 분석 : 모델의 실제값과 예측값의 차이인 모델의 잔차를 분석
    - Q-Q 도식이 직선을 만족해야 한다.
    - 잔차 간 상관관계가 없어야 한다. -> Ljung-Box test
    - 위의 두 가지 사항을 만족한다면 예측 진행 / 반대로 만족하지 않는다면, 다른 p와 q 조합 시도

### 7.2 SARIMA Process example
- Number of air passengers Data

#### 7.2.1 정상성 test
![photo 208](/assets/img/blog/img208.png)                                    
- 데이터 시각화 결과, 추세가 존재하므로 정상성을 만족하지 않을 가능성이 높고, 뚜렷한 계절적 패턴을 확인할 수 있다.
- ADF test는 statsmodels 라이브러리의 adfuller를 활용한다.   
- ADF test 결과 -> ADF Statistic: 0.815, p-value: 0.992
- ADF 통계량의 절댓값 크기가 작고 p-value가 높기 때문에 귀무가설 채택으로 현재 해당 데이터는 비정상적
- 현재 데이터는 월별 데이터이므로 m=12 설정

#### 7.2.2 변환을 통한 정상성 만족시키기 및 차분 횟수 설정
- 1차 차분을 적용하여 추세 구성요소를 제거하여 안정화시킨다.                          
- 1차 차분 적용 이후 ADF test 결과 -> ADF Statistic: -2.83, p-value: 0.054
- 1차 차분 적용 이후, 수열이 정상성을 만족하지 않으므로 계절적 차분을 적용한다.
- 계절적 차분(m=12) 적용 이후 ADF test 결과 -> ADF Statistic: -17.625, p-value: 0.000
- 계절적 차분 이후, ADF 통계량의 절댓값 크기가 크고 p-value가 낮기 때문에, 귀무가설을 기각하여 정상성을 만족한다.
=> 1차 차분과 1번의 계절적 차분을 적용했으므로 d=1, D=1로 설정한다.

#### 7.2.3 p,q,P,Q 조합 만들기 및 모든 $SARIMA(p,d,q)(P,D,Q)_m$ 조합 피팅
- itertools의 product 함수를 사용하여 가능한 모든 p,q,P,Q 조합 목록을 생성한다.
- SARIMA(p,q) 모델들을 피팅하기 위한 함수를 정의한 뒤, 각 조합에 대한 모델을 데이터에 피팅한다.     
![photo 209](/assets/img/blog/img209.png)                                      
- AIC가 가장 낮은 모델 $SARIMA(2,1,1)(1,1,2)_12$ 선택
- AIC는 모델의 상대적인 품질을 측정하는 척도이므로 절대적인 측정을 위해 잔차 분석을 추가로 진행한다.

#### 7.2.4 잔차 분석
![photo 210](/assets/img/blog/img210.png)                           
- 질적 분석: 잔차, 잔차 분포, Q-Q Plot, ACF
  - 좌상단: 잔차로 추세나 분산 변화를 나타내지 않고 있다.
  - 우상단: 잔차의 분포로 정규분포에 매우 가깝다.
  - 좌하단: Q-Q 도식으로 잔차의 분포가 $y=x$ 직선에 가깝다.
  - 우하단: ACF 도식으로 자기상관계수가 지연 0 이후에 유의한 계수가 나타나지 않는다.                       
  => 정성적 관점으로 보았을 때, 현재 잔차가 백색소음과 유사함을 알 수 있다..
- 양적 분석: Ljung-Box test
  - 모델 잔차의 첫 10개 지연에 대한 Ljung-Box test를 진행
  - 실행하면 반환된 p-value가 모두 0.05보다 크다는 것을 알 수 있다. -> 귀무가설 채택 -> 잔차 상관관계 X          
  => 따라서, 잔차가 백색소음처럼 독립적이고 상관관계가 없다는 것을 알 수 있다.

#### 7.2.5 $SARIMA(2,1,1)(1,1,2)_12$을 사용한 예측 및 결과 해석         
![photo 211](/assets/img/blog/img211.png)
![photo 212](/assets/img/blog/img212.png)                                        
- MAPE(평균절대백분율오차) 결과 2.85로 단순 계절성 모델, 계절성을 고려하지 않은 ARIMA 모델보다 성능이 우수함을 알 수 있다.


<br>          

참고문헌: TimeSeries Forecasting In Python
